// Copyright 2023 Dasky (@daskygit)
// SPDX-License-Identifier: GPL-2.0-or-later

#include "quantum.h"

#if defined(ENCODER_ENABLE)
bool encoder_update_kb(uint8_t index, bool clockwise) {
    if (!encoder_update_user(index, clockwise)) {
        return false;
    }
    if (clockwise) {
        tap_code_delay(KC_VOLU, 10);
    } else {
        tap_code_delay(KC_VOLD, 10);
    }
    return true;
}
#endif

#if defined(OLED_ENABLE)
static void render_logo(void) {
    static const char PROGMEM fx_logo[] = {
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,252,  6,246,246,246,246,246,246,254,  6,246,246,246,246,246,  6,254,  6,254,254,254,254,254,  6,254,  6,126,254,254,254,126,  6,254,  6,246,246,  6,246,246,  6,254,  6,246,246,246,246,246,  6,254, 
        6,246,246,246,246,246,246,254,252,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,  0,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,255,  0,253,253,253,253,253,253,255,  0,253,253,253,253,253,  0,255,  0,127,127,127,127,127,  0,255,  7,242,250,248,250,242,  7,255,  0,255,255,  0,255,255,  0,255,  0,253,253,253,253,253,  0,255, 
        0,127,127,127,127,127,127,255,255,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,  1,125,125,125,125,125,  1,255,  1,255,255,255,255,255,255,255,  1,255,255,255,255,255,  1,255, 
        1,125,125,125,125,125,125,255,255,255,255,255,255,255,255,255,255,255,255,255,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,124,254,254,254,254,254,124,  0,  0,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,124,254,254,254,254,254,124,  0,  0,  0,  0, 
        0,127,255,255,255,255,255,255,255,255,255,255,255,255,255,192,255,255,255,255,255,255,255,192,223,223,223,223,223,223,255,192,223,223,223,223,223,192,255,223,223,223,223,223,223,192,255,255,255,255,255,255,255,255,255,255,255,255,127,
    };
     oled_write_raw_P(fx_logo, sizeof(fx_logo));
}

bool oled_task_kb(void) {
    if (!oled_task_user()) {
        return false;
    }
    render_logo();
    return true;
}
#endif

void keyboard_post_init_kb(void) {
    rgblight_sethsv_noeeprom(100, 255, 255);
}